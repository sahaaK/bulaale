<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Nebula POS | Futuristic Restaurant System</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        @keyframes float {
            0% { transform: translateY(0px); }
            50% { transform: translateY(-20px); }
            100% { transform: translateY(0px); }
        }
        
        .bubble {
            position: absolute;
            border-radius: 50%;
            background: rgba(236, 72, 153, 0.2);
            filter: blur(5px);
            animation: float 6s ease-in-out infinite;
            z-index: -1;
        }
        
        @keyframes slideIn {
            from { transform: translateY(20px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }
        
        .slide-in {
            animation: slideIn 0.5s ease-out forwards;
        }
        
        .glow {
            box-shadow: 0 0 15px rgba(192, 132, 252, 0.6);
        }
        
        .tab-active {
            transform: perspective(500px) rotateX(10deg);
            border-bottom-width: 4px;
            border-bottom-color: #ec4899;
        }
        
        .item-card:hover {
            transform: translateY(-5px) scale(1.02);
            box-shadow: 0 10px 20px rgba(192, 132, 252, 0.3);
        }
        
        .scrollbar-hide::-webkit-scrollbar {
            display: none;
        }
    </style>
</head>
<body class="bg-gradient-to-br from-purple-900 to-fuchsia-900 min-h-screen text-white overflow-x-hidden relative">
    <!-- Floating Bubbles Background -->
    <div id="bubbles-container" class="fixed inset-0 overflow-hidden pointer-events-none"></div>
    
    <div class="container mx-auto px-4 py-8 max-w-7xl">
        <!-- Header -->
        <header class="flex justify-between items-center mb-12 slide-in">
            <div class="flex items-center space-x-3">
                <div class="w-12 h-12 rounded-full bg-gradient-to-r from-pink-500 to-purple-600 flex items-center justify-center glow">
                    <i class="fas fa-utensils text-2xl"></i>
                </div>
                <h1 class="text-3xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-pink-400 to-purple-300">
                    Nebula <span class="opacity-90">POS</span>
                </h1>
            </div>
            <div class="flex items-center space-x-4">
                <div class="text-right">
                    <p class="text-pink-200 text-sm">Server: <span class="font-medium">Jessica</span></p>
                    <p class="text-xs text-purple-300" id="current-time">Loading...</p>
                </div>
                <div class="w-10 h-10 rounded-full bg-gradient-to-br from-purple-500 to-pink-400 flex items-center justify-center">
                    <i class="fas fa-user text-lg"></i>
                </div>
            </div>
        </header>
        
        <!-- Main Tabs -->
        <div class="flex mb-8 border-b border-purple-700">
            <button id="pos-tab" class="tab-active px-6 py-3 font-semibold text-lg transition-all duration-300 relative group">
                Point of Sale
                <span class="absolute bottom-0 left-0 w-0 h-1 bg-pink-500 group-hover:w-full transition-all duration-300"></span>
            </button>
            <button id="inventory-tab" class="px-6 py-3 font-semibold text-lg text-purple-200 transition-all duration-300 relative group">
                Inventory
                <span class="absolute bottom-0 left-0 w-0 h-1 bg-pink-500 group-hover:w-full transition-all duration-300"></span>
            </button>
        </div>
        
        <!-- POS Tab Content -->
        <div id="pos-content" class="slide-in">
            <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
                <!-- Menu Items -->
                <div class="lg:col-span-2 bg-purple-800 bg-opacity-40 backdrop-blur-lg rounded-2xl p-6 border border-purple-700">
                    <div class="flex justify-between items-center mb-6">
                        <h2 class="text-xl font-bold text-pink-200">Menu</h2>
                        <div class="relative">
                            <input type="text" placeholder="Search menu..." 
                                   class="bg-purple-900 bg-opacity-50 px-4 py-2 rounded-full w-64 border border-purple-700 focus:outline-none focus:ring-2 focus:ring-pink-400">
                            <i class="fas fa-search absolute right-4 top-3 text-purple-300"></i>
                        </div>
                    </div>
                    
                    <!-- Categories -->
                    <div class="flex space-x-2 mb-6 overflow-x-auto pb-2 scrollbar-hide">
                        <button class="category-btn px-4 py-2 bg-gradient-to-r from-pink-500 to-purple-600 rounded-full text-sm font-medium whitespace-nowrap glow">All Items</button>
                        <button class="category-btn px-4 py-2 bg-purple-700 hover:bg-pink-600 rounded-full text-sm font-medium whitespace-nowrap transition">Appetizers</button>
                        <button class="category-btn px-4 py-2 bg-purple-700 hover:bg-pink-600 rounded-full text-sm font-medium whitespace-nowrap transition">Main Dishes</button>
                        <button class="category-btn px-4 py-2 bg-purple-700 hover:bg-pink-600 rounded-full text-sm font-medium whitespace-nowrap transition">Desserts</button>
                        <button class="category-btn px-4 py-2 bg-purple-700 hover:bg-pink-600 rounded-full text-sm font-medium whitespace-nowrap transition">Beverages</button>
                        <button class="category-btn px-4 py-2 bg-purple-700 hover:bg-pink-600 rounded-full text-sm font-medium whitespace-nowrap transition">Specials</button>
                    </div>
                    
                    <!-- Menu Grid -->
                    <div class="grid grid-cols-2 md:grid-cols-3 gap-4">
                        <!-- Sample Menu Items -->
                        <div class="item-card bg-purple-800 bg-opacity-60 hover:bg-opacity-80 rounded-xl p-4 border border-purple-700 transition-all duration-300 cursor-pointer hover:shadow-lg"
                             onclick="addToOrder('001', 'Truffle Pasta', 24.99, this)">
                            <div class="w-full h-32 bg-gradient-to-br from-purple-500 to-pink-400 rounded-lg mb-3 flex items-center justify-center">
                                <i class="fas fa-utensils text-white text-4xl opacity-80"></i>
                            </div>
                            <h3 class="font-semibold text-pink-200">Truffle Pasta</h3>
                            <p class="text-xs text-purple-300 mb-2">Creamy pasta with black truffle</p>
                            <div class="flex justify-between items-center">
                                <span class="font-bold text-pink-300">$24.99</span>
                                <span class="text-xs px-2 py-1 bg-pink-500 bg-opacity-20 rounded-full">#001</span>
                            </div>
                        </div>
                        
                        <div class="item-card bg-purple-800 bg-opacity-60 hover:bg-opacity-80 rounded-xl p-4 border border-purple-700 transition-all duration-300 cursor-pointer hover:shadow-lg"
                             onclick="addToOrder('002', 'Lobster Risotto', 32.50, this)">
                            <div class="w-full h-32 bg-gradient-to-br from-purple-500 to-pink-400 rounded-lg mb-3 flex items-center justify-center">
                                <i class="fas fa-fish text-white text-4xl opacity-80"></i>
                            </div>
                            <h3 class="font-semibold text-pink-200">Lobster Risotto</h3>
                            <p class="text-xs text-purple-300 mb-2">Creamy Arborio rice with lobster</p>
                            <div class="flex justify-between items-center">
                                <span class="font-bold text-pink-300">$32.50</span>
                                <span class="text-xs px-2 py-1 bg-pink-500 bg-opacity-20 rounded-full">#002</span>
                            </div>
                        </div>
                        
                        <div class="item-card bg-purple-800 bg-opacity-60 hover:bg-opacity-80 rounded-xl p-4 border border-purple-700 transition-all duration-300 cursor-pointer hover:shadow-lg"
                             onclick="addToOrder('003', 'Chocolate Soufflé', 14.99, this)">
                            <div class="w-full h-32 bg-gradient-to-br from-purple-500 to-pink-400 rounded-lg mb-3 flex items-center justify-center">
                                <i class="fas fa-ice-cream text-white text-4xl opacity-80"></i>
                            </div>
                            <h3 class="font-semibold text-pink-200">Chocolate Soufflé</h3>
                            <p class="text-xs text-purple-300 mb-2">Warm chocolate delight with ice cream</p>
                            <div class="flex justify-between items-center">
                                <span class="font-bold text-pink-300">$14.99</span>
                                <span class="text-xs px-2 py-1 bg-pink-500 bg-opacity-20 rounded-full">#003</span>
                            </div>
                        </div>
                        
                        <div class="item-card bg-purple-800 bg-opacity-60 hover:bg-opacity-80 rounded-xl p-4 border border-purple-700 transition-all duration-300 cursor-pointer hover:shadow-lg"
                             onclick="addToOrder('004', 'Sparkling Lemonade', 6.50, this)">
                            <div class="w-full h-32 bg-gradient-to-br from-purple-500 to-pink-400 rounded-lg mb-3 flex items-center justify-center">
                                <i class="fas fa-glass-cheers text-white text-4xl opacity-80"></i>
                            </div>
                            <h3 class="font-semibold text-pink-200">Sparkling Lemonade</h3>
                            <p class="text-xs text-purple-300 mb-2">Homemade with fresh lemons</p>
                            <div class="flex justify-between items-center">
                                <span class="font-bold text-pink-300">$6.50</span>
                                <span class="text-xs px-2 py-1 bg-pink-500 bg-opacity-20 rounded-full">#004</span>
                            </div>
                        </div>
                        
                        <div class="item-card bg-purple-800 bg-opacity-60 hover:bg-opacity-80 rounded-xl p-4 border border-purple-700 transition-all duration-300 cursor-pointer hover:shadow-lg"
                             onclick="addToOrder('005', 'Caprese Salad', 12.75, this)">
                            <div class="w-full h-32 bg-gradient-to-br from-purple-500 to-pink-400 rounded-lg mb-3 flex items-center justify-center">
                                <i class="fas fa-leaf text-white text-4xl opacity-80"></i>
                            </div>
                            <h3 class="font-semibold text-pink-200">Caprese Salad</h3>
                            <p class="text-xs text-purple-300 mb-2">Fresh mozzarella, tomatoes & basil</p>
                            <div class="flex justify-between items-center">
                                <span class="font-bold text-pink-300">$12.75</span>
                                <span class="text-xs px-2 py-1 bg-pink-500 bg-opacity-20 rounded-full">#005</span>
                            </div>
                        </div>
                        
                        <div class="item-card bg-purple-800 bg-opacity-60 hover:bg-opacity-80 rounded-xl p-4 border border-purple-700 transition-all duration-300 cursor-pointer hover:shadow-lg"
                             onclick="addToOrder('006', 'Filet Mignon', 38.99, this)">
                            <div class="w-full h-32 bg-gradient-to-br from-purple-500 to-pink-400 rounded-lg mb-3 flex items-center justify-center">
                                <i class="fas fa-drumstick-bite text-white text-4xl opacity-80"></i>
                            </div>
                            <h3 class="font-semibold text-pink-200">Filet Mignon</h3>
                            <p class="text-xs text-purple-300 mb-2">8oz premium cut with truffle butter</p>
                            <div class="flex justify-between items-center">
                                <span class="font-bold text-pink-300">$38.99</span>
                                <span class="text-xs px-2 py-1 bg-pink-500 bg-opacity-20 rounded-full">#006</span>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Order Summary -->
                <div class="bg-purple-800 bg-opacity-40 backdrop-blur-lg rounded-2xl p-6 border border-purple-700">
                    <div class="flex justify-between items-center mb-6">
                        <h2 class="text-xl font-bold text-pink-200">Current Order</h2>
                        <div class="flex space-x-2">
                            <button class="bg-gradient-to-r from-purple-700 to-purple-600 hover:to-pink-500 px-4 py-2 rounded-lg text-sm font-medium transition-all duration-300"
                                    onclick="clearOrder()">
                                <i class="fas fa-trash-alt mr-1"></i> Clear
                            </button>
                            <select class="bg-purple-900 bg-opacity-50 border border-purple-700 rounded-lg px-3 py-2 focus:outline-none focus:ring-1 focus:ring-pink-400 text-sm">
                                <option>Table 1</option>
                                <option>Table 2</option>
                                <option>Table 3</option>
                                <option>Table 4</option>
                                <option>Table 5</option>
                                <option>Table 6</option>
                                <option>Takeout</option>
                                <option>Delivery</option>
                            </select>
                        </div>
                    </div>
                    
                    <!-- Order Items -->
                    <div id="order-items" class="max-h-96 overflow-y-auto mb-6 pr-2 scrollbar-hide">
                        <!-- Order items will be added here -->
                        <div id="empty-order" class="flex flex-col items-center justify-center h-64 text-purple-300">
                            <i class="fas fa-shopping-basket text-5xl mb-4 opacity-30"></i>
                            <p>Your order is empty</p>
                            <p class="text-xs mt-2">Click on menu items to add them</p>
                        </div>
                    </div>
                    
                    <!-- Order Summary -->
                    <div class="bg-purple-900 bg-opacity-30 rounded-lg p-4 mb-4 border border-purple-700">
                        <div class="flex justify-between mb-2">
                            <span class="text-purple-300">Subtotal:</span>
                            <span id="subtotal" class="font-medium">$0.00</span>
                        </div>
                        <div class="flex justify-between mb-2">
                            <span class="text-purple-300">Tax (7%):</span>
                            <span id="tax" class="font-medium">$0.00</span>
                        </div>
                        <div class="flex justify-between text-lg font-bold">
                            <span class="text-pink-200">Total:</span>
                            <span id="total" class="text-pink-400">$0.00</span>
                        </div>
                    </div>
                    
                    <!-- Action Buttons -->
                    <div class="grid grid-cols-2 gap-3">
                        <button class="bg-gradient-to-r from-purple-600 to-pink-500 hover:to-purple-400 px-4 py-3 rounded-lg font-medium transition-all duration-300 flex items-center justify-center glow hover:glow-lg"
                                onclick="processPayment()">
                            <i class="fas fa-credit-card mr-2"></i> Payment
                        </button>
                        <button class="bg-gradient-to-r from-purple-800 to-purple-600 hover:to-pink-500 px-4 py-3 rounded-lg font-medium transition-all duration-300 flex items-center justify-center"
                                onclick="printReceipt()">
                            <i class="fas fa-receipt mr-2"></i> Print
                        </button>
                    </div>
                    
                    <!-- Quick Actions -->
                    <div class="mt-4 grid grid-cols-4 gap-2">
                        <button class="bg-purple-700 hover:bg-pink-600 p-2 rounded-lg text-xs transition"
                                onclick="addDiscount(5)">
                            <i class="fas fa-tag mr-1"></i> 5% Off
                        </button>
                        <button class="bg-purple-700 hover:bg-pink-600 p-2 rounded-lg text-xs transition"
                                onclick="addDiscount(10)">
                            <i class="fas fa-tag mr-1"></i> 10% Off
                        </button>
                        <button class="bg-purple-700 hover:bg-pink-600 p-2 rounded-lg text-xs transition"
                                onclick="addSpecialRequest()">
                            <i class="fas fa-star mr-1"></i> Special
                        </button>
                        <button class="bg-purple-700 hover:bg-pink-600 p-2 rounded-lg text-xs transition"
                                onclick="splitCheck()">
                            <i class="fas fa-cut mr-1"></i> Split
                        </button>
                    </div>
                </div>
            </div>
            
            <!-- Recent Orders -->
            <div class="mt-8 bg-purple-800 bg-opacity-40 backdrop-blur-lg rounded-2xl p-6 border border-purple-700">
                <h2 class="text-xl font-bold text-pink-200 mb-4">Active Tables</h2>
                <div class="grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4">
                    <div class="bg-gradient-to-br from-purple-700 to-pink-600 rounded-xl p-4 text-center cursor-pointer hover:scale-105 transition-transform">
                        <div class="w-16 h-16 bg-purple-800 bg-opacity-50 rounded-full flex items-center justify-center mx-auto mb-2">
                            <i class="fas fa-table text-2xl"></i>
                        </div>
                        <h3 class="font-bold text-pink-100">Table 1</h3>
                        <p class="text-xs text-purple-200">$58.20 • 4 items</p>
                    </div>
                    <div class="bg-gradient-to-br from-purple-700 to-pink-600 rounded-xl p-4 text-center cursor-pointer hover:scale-105 transition-transform">
                        <div class="w-16 h-16 bg-purple-800 bg-opacity-50 rounded-full flex items-center justify-center mx-auto mb-2">
                            <i class="fas fa-motorcycle text-2xl"></i>
                        </div>
                        <h3 class="font-bold text-pink-100">Delivery #42</h3>
                        <p class="text-xs text-purple-200">$112.75 • 8 items</p>
                    </div>
                    <div class="bg-gradient-to-br from-purple-700 to-pink-600 rounded-xl p-4 text-center cursor-pointer hover:scale-105 transition-transform">
                        <div class="w-16 h-16 bg-purple-800 bg-opacity-50 rounded-full flex items-center justify-center mx-auto mb-2">
                            <i class="fas fa-utensils text-2xl"></i>
                        </div>
                        <h3 class="font-bold text-pink-100">Table 4</h3>
                        <p class="text-xs text-purple-200">$89.45 • 5 items</p>
                    </div>
                    <div class="bg-gradient-to-br from-purple-700 to-pink-600 rounded-xl p-4 text-center cursor-pointer hover:scale-105 transition-transform">
                        <div class="w-16 h-16 bg-purple-800 bg-opacity-50 rounded-full flex items-center justify-center mx-auto mb-2">
                            <i class="fas fa-box text-2xl"></i>
                        </div>
                        <h3 class="font-bold text-pink-100">Takeout #15</h3>
                        <p class="text-xs text-purple-200">$24.99 • 2 items</p>
                    </div>
                    <div class="bg-gradient-to-br from-purple-700 to-pink-600 rounded-xl p-4 text-center cursor-pointer hover:scale-105 transition-transform">
                        <div class="w-16 h-16 bg-purple-800 bg-opacity-50 rounded-full flex items-center justify-center mx-auto mb-2">
                            <i class="fas fa-table text-2xl"></i>
                        </div>
                        <h3 class="font-bold text-pink-100">Table 3</h3>
                        <p class="text-xs text-purple-200">$0.00 • Empty</p>
                    </div>
                    <div class="bg-gradient-to-br from-purple-700 to-pink-600 rounded-xl p-4 text-center cursor-pointer hover:scale-105 transition-transform">
                        <div class="w-16 h-16 bg-purple-800 bg-opacity-50 rounded-full flex items-center justify-center mx-auto mb-2">
                            <i class="fas fa-plus text-2xl"></i>
                        </div>
                        <h3 class="font-bold text-pink-100">New Table</h3>
                        <p class="text-xs text-purple-200">Click to add</p>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Inventory Tab Content -->
        <div id="inventory-content" class="hidden slide-in">
            <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
                <!-- Inventory List -->
                <div class="lg:col-span-2 bg-purple-800 bg-opacity-40 backdrop-blur-lg rounded-2xl p-6 border border-purple-700">
                    <div class="flex justify-between items-center mb-6">
                        <h2 class="text-xl font-bold text-pink-200">Inventory Management</h2>
                        <div class="flex space-x-2">
                            <button class="bg-gradient-to-r from-pink-500 to-purple-600 px-4 py-2 rounded-lg text-sm font-medium glow"
                                    onclick="openAddItemModal()">
                                <i class="fas fa-plus mr-1"></i> Add Item
                            </button>
                            <button class="bg-purple-700 hover:bg-pink-600 px-4 py-2 rounded-lg text-sm font-medium transition">
                                <i class="fas fa-filter mr-1"></i> Filter
                            </button>
                        </div>
                    </div>
                    
                    <!-- Inventory Table -->
                    <div class="overflow-x-auto">
                        <table class="min-w-full divide-y divide-purple-700">
                            <thead>
                                <tr>
                                    <th class="px-4 py-3 text-left text-xs font-medium text-pink-200 uppercase tracking-wider">ID</th>
                                    <th class="px-4 py-3 text-left text-xs font-medium text-pink-200 uppercase tracking-wider">Item</th>
                                    <th class="px-4 py-3 text-left text-xs font-medium text-pink-200 uppercase tracking-wider">Category</th>
                                    <th class="px-4 py-3 text-left text-xs font-medium text-pink-200 uppercase tracking-wider">Stock</th>
                                    <th class="px-4 py-3 text-left text-xs font-medium text-pink-200 uppercase tracking-wider">Price</th>
                                    <th class="px-4 py-3 text-left text-xs font-medium text-pink-200 uppercase tracking-wider">Actions</th>
                                </tr>
                            </thead>
                            <tbody class="divide-y divide-purple-800">
                                <!-- Sample Inventory Items -->
                                <tr class="hover:bg-purple-800 transition">
                                    <td class="px-4 py-3 whitespace-nowrap text-sm text-purple-200">001</td>
                                    <td class="px-4 py-3 whitespace-nowrap text-sm font-medium text-pink-200">Truffle Pasta</td>
                                    <td class="px-4 py-3 whitespace-nowrap text-sm text-purple-200">Main Dishes</td>
                                    <td class="px-4 py-3 whitespace-nowrap text-sm">
                                        <span class="px-2 py-1 rounded-full text-xs font-medium bg-gradient-to-r from-green-700 to-green-500">In Stock: 42</span>
                                    </td>
                                    <td class="px-4 py-3 whitespace-nowrap text-sm text-pink-300 font-medium">$24.99</td>
                                    <td class="px-4 py-3 whitespace-nowrap text-sm">
                                        <button class="text-purple-300 hover:text-pink-400 mr-2" onclick="editInventoryItem('001')">
                                            <i class="fas fa-edit"></i>
                                        </button>
                                        <button class="text-purple-300 hover:text-pink-400" onclick="removeInventoryItem('001')">
                                            <i class="fas fa-trash-alt"></i>
                                        </button>
                                    </td>
                                </tr>
                                
                                <tr class="hover:bg-purple-800 transition">
                                    <td class="px-4 py-3 whitespace-nowrap text-sm text-purple-200">002</td>
                                    <td class="px-4 py-3 whitespace-nowrap text-sm font-medium text-pink-200">Lobster Risotto</td>
                                    <td class="px-4 py-3 whitespace-nowrap text-sm text-purple-200">Main Dishes</td>
                                    <td class="px-4 py-3 whitespace-nowrap text-sm">
                                        <span class="px-2 py-1 rounded-full text-xs font-medium bg-gradient-to-r from-yellow-700 to-yellow-500">Low Stock: 8</span>
                                    </td>
                                    <td class="px-4 py-3 whitespace-nowrap text-sm text-pink-300 font-medium">$32.50</td>
                                    <td class="px-4 py-3 whitespace-nowrap text-sm">
                                        <button class="text-purple-300 hover:text-pink-400 mr-2" onclick="editInventoryItem('002')">
                                            <i class="fas fa-edit"></i>
                                        </button>
                                        <button class="text-purple-300 hover:text-pink-400" onclick="removeInventoryItem('002')">
                                            <i class="fas fa-trash-alt"></i>
                                        </button>
                                    </td>
                                </tr>
                                
                                <tr class="hover:bg-purple-800 transition">
                                    <td class="px-4 py-3 whitespace-nowrap text-sm text-purple-200">004</td>
                                    <td class="px-4 py-3 whitespace-nowrap text-sm font-medium text-pink-200">Sparkling Lemonade</td>
                                    <td class="px-4 py-3 whitespace-nowrap text-sm text-purple-200">Beverages</td>
                                    <td class="px-4 py-3 whitespace-nowrap text-sm">
                                        <span class="px-2 py-1 rounded-full text-xs font-medium bg-gradient-to-r from-green-700 to-green-500">In Stock: 27</span>
                                    </td>
                                    <td class="px-4 py-3 whitespace-nowrap text-sm text-pink-300 font-medium">$6.50</td>
                                    <td class="px-4 py-3 whitespace-nowrap text-sm">
                                        <button class="text-purple-300 hover:text-pink-400 mr-2" onclick="editInventoryItem('004')">
                                            <i class="fas fa-edit"></i>
                                        </button>
                                        <button class="text-purple-300 hover:text-pink-400" onclick="removeInventoryItem('004')">
                                            <i class="fas fa-trash-alt"></i>
                                        </button>
                                    </td>
                                </tr>
                                
                                <tr class="hover:bg-purple-800 transition">
                                    <td class="px-4 py-3 whitespace-nowrap text-sm text-purple-200">006</td>
                                    <td class="px-4 py-3 whitespace-nowrap text-sm font-medium text-pink-200">Filet Mignon</td>
                                    <td class="px-4 py-3 whitespace-nowrap text-sm text-purple-200">Main Dishes</td>
                                    <td class="px-4 py-3 whitespace-nowrap text-sm">
                                        <span class="px-2 py-1 rounded-full text-xs font-medium bg-gradient-to-r from-red-700 to-red-500">Out of Stock</span>
                                    </td>
                                    <td class="px-4 py-3 whitespace-nowrap text-sm text-pink-300 font-medium">$38.99</td>
                                    <td class="px-4 py-3 whitespace-nowrap text-sm">
                                        <button class="text-purple-300 hover:text-pink-400 mr-2" onclick="editInventoryItem('006')">
                                            <i class="fas fa-edit"></i>
                                        </button>
                                        <button class="text-purple-300 hover:text-pink-400" onclick="removeInventoryItem('006')">
                                            <i class="fas fa-trash-alt"></i>
                                        </button>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
                
                <!-- Inventory Stats & Orders -->
                <div class="bg-purple-800 bg-opacity-40 backdrop-blur-lg rounded-2xl p-6 border border-purple-700">
                    <h2 class="text-xl font-bold text-pink-200 mb-6">Inventory Stats</h2>
                    
                    <!-- Stats Cards -->
                    <div class="grid grid-cols-2 gap-4 mb-6">
                        <div class="bg-purple-900 bg-opacity-30 rounded-lg p-4 border border-purple-700">
                            <h3 class="text-sm font-medium text-purple-300 mb-1">Total Items</h3>
                            <p class="text-2xl font-bold text-pink-300">47</p>
                        </div>
                        <div class="bg-purple-900 bg-opacity-30 rounded-lg p-4 border border-purple-700">
                            <h3 class="text-sm font-medium text-purple-300 mb-1">Low Stock</h3>
                            <p class="text-2xl font-bold text-yellow-400">5</p>
                        </div>
                        <div class="bg-purple-900 bg-opacity-30 rounded-lg p-4 border border-purple-700">
                            <h3 class="text-sm font-medium text-purple-300 mb-1">Out of Stock</h3>
                            <p class="text-2xl font-bold text-red-400">3</p>
                        </div>
                        <div class="bg-purple-900 bg-opacity-30 rounded-lg p-4 border border-purple-700">
                            <h3 class="text-sm font-medium text-purple-300 mb-1">Categories</h3>
                            <p class="text-2xl font-bold text-green-400">6</p>
                        </div>
                    </div>
                    
                    <!-- Stock Alerts -->
                    <div class="mb-6">
                        <h3 class="text-lg font-semibold text-pink-200 mb-3">Stock Alerts</h3>
                        <div class="space-y-3">
                            <div class="flex items-center justify-between bg-red-900 bg-opacity-30 rounded-lg p-3 border border-red-700">
                                <div>
                                    <p class="text-sm font-medium">Filet Mignon</p>
                                    <p class="text-xs text-purple-300">Completely out of stock</p>
                                </div>
                                <button class="text-xs bg-red-600 hover:bg-red-500 px-3 py-1 rounded-full transition">
                                    Order Now
                                </button>
                            </div>
                            <div class="flex items-center justify-between bg-yellow-900 bg-opacity-30 rounded-lg p-3 border border-yellow-700">
                                <div>
                                    <p class="text-sm font-medium">Lobster Tail</p>
                                    <p class="text-xs text-purple-300">Low stock: 5 remaining</p>
                                </div>
                                <button class="text-xs bg-yellow-600 hover:bg-yellow-500 px-3 py-1 rounded-full transition">
                                    Reorder
                                </button>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Recent Orders -->
                    <div>
                        <h3 class="text-lg font-semibold text-pink-200 mb-3">Recent Suppliers</h3>
                        <div class="space-y-3">
                            <div class="flex items-center space-x-3 bg-purple-900 bg-opacity-20 rounded-lg p-3 border border-purple-700 hover:bg-opacity-40 transition">
                                <div class="w-10 h-10 rounded-full bg-gradient-to-r from-pink-500 to-purple-600 flex items-center justify-center">
                                    <i class="fas fa-truck text-sm"></i>
                                </div>
                                <div>
                                    <p class="text-sm font-medium">Fresh Farm Co.</p>
                                    <p class="text-xs text-purple-300">Last order: 2 days ago</p>
                                </div>
                            </div>
                            <div class="flex items-center space-x-3 bg-purple-900 bg-opacity-20 rounded-lg p-3 border border-purple-700 hover:bg-opacity-40 transition">
                                <div class="w-10 h-10 rounded-full bg-gradient-to-r from-pink-500 to-purple-600 flex items-center justify-center">
                                    <i class="fas fa-fish text-sm"></i>
                                </div>
                                <div>
                                    <p class="text-sm font-medium">Ocean Seafood</p>
                                    <p class="text-xs text-purple-300">Last order: 1 week ago</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Recent Inventory Changes -->
            <div class="mt-8 bg-purple-800 bg-opacity-40 backdrop-blur-lg rounded-2xl p-6 border border-purple-700">
                <h2 class="text-xl font-bold text-pink-200 mb-4">Recent Inventory Changes</h2>
                <div class="overflow-x-auto">
                    <table class="min-w-full divide-y divide-purple-700">
                        <thead>
                            <tr>
                                <th class="px-4 py-3 text-left text-xs font-medium text-pink-200 uppercase tracking-wider">Date</th>
                                <th class="px-4 py-3 text-left text-xs font-medium text-pink-200 uppercase tracking-wider">Item</th>
                                <th class="px-4 py-3 text-left text-xs font-medium text-pink-200 uppercase tracking-wider">Change</th>
                                <th class="px-4 py-3 text-left text-xs font-medium text-pink-200 uppercase tracking-wider">By</th>
                                <th class="px-4 py-3 text-left text-xs font-medium text-pink-200 uppercase tracking-wider">Note</th>
                            </tr>
                        </thead>
                        <tbody class="divide-y divide-purple-800">
                            <tr class="hover:bg-purple-800 transition">
                                <td class="px-4 py-3 whitespace-nowrap text-sm text-purple-200">Today, 10:45 AM</td>
                                <td class="px-4 py-3 whitespace-nowrap text-sm font-medium text-pink-200">Truffle Pasta</td>
                                <td class="px-4 py-3 whitespace-nowrap text-sm">
                                    <span class="px-2 py-1 rounded-full text-xs font-medium bg-gradient-to-r from-green-800 to-green-600">+12</span>
                                </td>
                                <td class="px-4 py-3 whitespace-nowrap text-sm text-purple-200">Jessica</td>
                                <td class="px-4 py-3 whitespace-nowrap text-sm text-purple-200">Restocked</td>
                            </tr>
                            <tr class="hover:bg-purple-800 transition">
                                <td class="px-4 py-3 whitespace-nowrap text-sm text-purple-200">Today, 9:30 AM</td>
                                <td class="px-4 py-3 whitespace-nowrap text-sm font-medium text-pink-200">Filet Mignon</td>
                                <td class="px-4 py-3 whitespace-nowrap text-sm">
                                    <span class="px-2 py-1 rounded-full text-xs font-medium bg-gradient-to-r from-red-800 to-red-600">-2</span>
                                </td>
                                <td class="px-4 py-3 whitespace-nowrap text-sm text-purple-200">System</td>
                                <td class="px-4 py-3 whitespace-nowrap text-sm text-purple-200">Sold</td>
                            </tr>
                            <tr class="hover:bg-purple-800 transition">
                                <td class="px-4 py-3 whitespace-nowrap text-sm text-purple-200">Yesterday, 5:15 PM</td>
                                <td class="px-4 py-3 whitespace-nowrap text-sm font-medium text-pink-200">Lobster Risotto</td>
                                <td class="px-4 py-3 whitespace-nowrap text-sm">
                                    <span class="px-2 py-1 rounded-full text-xs font-medium bg-gradient-to-r from-red-800 to-red-600">-1</span>
                                </td>
                                <td class="px-4 py-3 whitespace-nowrap text-sm text-purple-200">System</td>
                                <td class="px-4 py-3 whitespace-nowrap text-sm text-purple-200">Sold</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Payment Modal -->
    <div id="payment-modal" class="fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50 hidden">
        <div class="bg-gradient-to-b from-purple-900 to-fuchsia-800 rounded-2xl w-full max-w-md mx-4 border border-purple-700 p-6 relative overflow-hidden">
            <div class="absolute top-0 right-0 w-32 h-32 bg-pink-600 rounded-full filter blur-[80px] opacity-20 -mr-16 -mt-16"></div>
            <div class="absolute bottom-0 left-0 w-32 h-32 bg-purple-600 rounded-full filter blur-[80px] opacity-20 -ml-16 -mb-16"></div>
            
            <div class="relative">
                <h2 class="text-2xl font-bold text-pink-200 mb-6">Complete Payment</h2>
                
                <div class="mb-6 bg-purple-900 bg-opacity-30 rounded-xl p-4 border border-purple-700">
                    <div class="flex justify-between items-center mb-2">
                        <span class="text-purple-300">Amount Due:</span>
                        <span id="payment-amount" class="font-bold text-xl text-pink-300">$0.00</span>
                    </div>
                </div>
                
                <div class="grid grid-cols-2 gap-3 mb-6">
                    <button class="payment-method bg-gradient-to-br from-purple-700 to-purple-600 rounded-lg p-4 flex flex-col items-center justify-center transition-all hover:scale-105"
                            onclick="selectPaymentMethod('cash')">
                        <i class="fas fa-money-bill-wave text-3xl mb-2"></i>
                        <span class="text-sm font-medium">Cash</span>
                    </button>
                    <button class="payment-method bg-gradient-to-br from-purple-700 to-purple-600 rounded-lg p-4 flex flex-col items-center justify-center transition-all hover:scale-105"
                            onclick="selectPaymentMethod('card')">
                        <i class="fas fa-credit-card text-3xl mb-2"></i>
                        <span class="text-sm font-medium">Credit Card</span>
                    </button>
                    <button class="payment-method bg-gradient-to-br from-purple-700 to-purple-600 rounded-lg p-4 flex flex-col items-center justify-center transition-all hover:scale-105"
                            onclick="selectPaymentMethod('mobile')">
                        <i class="fas fa-mobile-alt text-3xl mb-2"></i>
                        <span class="text-sm font-medium">Mobile Pay</span>
                    </button>
                    <button class="payment-method bg-gradient-to-br from-purple-700 to-purple-600 rounded-lg p-4 flex flex-col items-center justify-center transition-all hover:scale-105"
                            onclick="selectPaymentMethod('split')">
                        <i class="fas fa-cut text-3xl mb-2"></i>
                        <span class="text-sm font-medium">Split Bill</span>
                    </button>
                </div>
                
                <div id="cash-payment" class="hidden">
                    <div class="mb-4">
                        <label class="block text-purple-300 text-sm mb-2">Amount Received</label>
                        <input type="number" placeholder="0.00" 
                               class="bg-purple-900 bg-opacity-50 w-full px-4 py-3 rounded-lg border border-purple-700 focus:outline-none focus:ring-2 focus:ring-pink-400">
                    </div>
                    <div class="bg-purple-800 bg-opacity-50 rounded-lg p-3 mb-4 hidden">
                        <p class="text-sm text-purple-300">Change Due: <span class="text-pink-300 font-medium">$5.00</span></p>
                    </div>
                </div>
                
                <div id="card-payment" class="hidden">
                    <div class="bg-purple-800 bg-opacity-50 rounded-lg p-4 mb-4">
                        <p class="text-xs text-purple-300 mb-2">Card Terminal Connected</p>
                        <p class="text-sm font-medium text-pink-200">Amount to charge: <span id="card-amount" class="text-xl">$0.00</span></p>
                    </div>
                </div>
                
                <div class="flex space-x-3">
                    <button id="process-payment-btn" class="flex-1 bg-gradient-to-r from-pink-500 to-purple-600 hover:to-pink-400 px-6 py-3 rounded-lg font-bold transition-all glow"
                            onclick="completePayment()">
                        Complete Payment
                    </button>
                    <button class="bg-purple-800 hover:bg-opacity-70 px-6 py-3 rounded-lg font-bold transition"
                            onclick="closePaymentModal()">
                        Cancel
                    </button>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Add Inventory Item Modal -->
    <div id="inventory-modal" class="fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50 hidden">
        <div class="bg-gradient-to-b from-purple-900 to-fuchsia-800 rounded-2xl w-full max-w-lg mx-4 border border-purple-700 p-6 relative overflow-hidden">
            <div class="absolute top-0 right-0 w-32 h-32 bg-pink-600 rounded-full filter blur-[80px] opacity-20 -mr-16 -mt-16"></div>
            <div class="absolute bottom-0 left-0 w-32 h-32 bg-purple-600 rounded-full filter blur-[80px] opacity-20 -ml-16 -mb-16"></div>
            
            <div class="relative">
                <h2 class="text-2xl font-bold text-pink-200 mb-6">Add New Inventory Item</h2>
                
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-6">
                    <div>
                        <label class="block text-purple-300 text-sm mb-2">Item Name</label>
                        <input type="text" placeholder="e.g. Truffle Pasta"
                               class="bg-purple-900 bg-opacity-50 w-full px-4 py-3 rounded-lg border border-purple-700 focus:outline-none focus:ring-2 focus:ring-pink-400">
                    </div>
                    <div>
                        <label class="block text-purple-300 text-sm mb-2">Category</label>
                        <select class="bg-purple-900 bg-opacity-50 w-full px-4 py-3 rounded-lg border border-purple-700 focus:outline-none focus:ring-2 focus:ring-pink-400">
                            <option>Appetizers</option>
                            <option>Main Dishes</option>
                            <option>Desserts</option>
                            <option>Beverages</option>
                            <option>Specials</option>
                        </select>
                    </div>
                    <div>
                        <label class="block text-purple-300 text-sm mb-2">Price ($)</label>
                        <input type="number" placeholder="0.00"
                               class="bg-purple-900 bg-opacity-50 w-full px-4 py-3 rounded-lg border border-purple-700 focus:outline-none focus:ring-2 focus:ring-pink-400">
                    </div>
                    <div>
                        <label class="block text-purple-300 text-sm mb-2">Initial Stock</label>
                        <input type="number" placeholder="0"
                               class="bg-purple-900 bg-opacity-50 w-full px-4 py-3 rounded-lg border border-purple-700 focus:outline-none focus:ring-2 focus:ring-pink-400">
                    </div>
                    <div class="md:col-span-2">
                        <label class="block text-purple-300 text-sm mb-2">Description</label>
                        <textarea rows="3"
                                  class="bg-purple-900 bg-opacity-50 w-full px-4 py-3 rounded-lg border border-purple-700 focus:outline-none focus:ring-2 focus:ring-pink-400"
                                  placeholder="Item description..."></textarea>
                    </div>
                </div>
                
                <div class="flex space-x-3">
                    <button class="flex-1 bg-gradient-to-r from-pink-500 to-purple-600 hover:to-pink-400 px-6 py-3 rounded-lg font-bold transition-all glow"
                            onclick="saveInventoryItem()">
                        Save Item
                    </button>
                    <button class="bg-purple-800 hover:bg-opacity-70 px-6 py-3 rounded-lg font-bold transition"
                            onclick="closeInventoryModal()">
                        Cancel
                    </button>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Receipt Preview Modal -->
    <div id="receipt-modal" class="fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50 hidden">
        <div class="bg-white rounded-2xl w-full max-w-xs mx-4 p-4 relative overflow-hidden">
            <div class="text-center mb-4">
                <h2 class="text-xl font-bold text-gray-800">Nebula Restaurant</h2>
                <p class="text-xs text-gray-500">123 Cosmos St, New York</p>
                <p class="text-xs text-gray-500">(555) 123-4567</p>
            </div>
            
            <div class="border-t border-b border-gray-300 py-3 my-3">
                <div class="flex justify-between text-sm mb-1">
                    <span class="text-gray-600">Order #1423</span>
                    <span class="text-gray-600" id="receipt-date">Jun 12, 2023 7:30 PM</span>
                </div>
                <div class="flex justify-between text-sm mb-1">
                    <span class="text-gray-600">Server: Jessica</span>
                    <span class="text-gray-600">Table: 4</span>
                </div>
            </div>
            
            <div id="receipt-items" class="mb-3">
                <!-- Items will be added here -->
                <div class="receipt-item flex justify-between text-sm mb-1">
                    <div>
                        <span class="font-medium">1x Truffle Pasta</span>
                    </div>
                    <span class="font-medium">$24.99</span>
                </div>
                <div class="receipt-item flex justify-between text-sm mb-1">
                    <div>
                        <span class="font-medium">1x Lobster Risotto</span>
                    </div>
                    <span class="font-medium">$32.50</span>
                </div>
            </div>
            
            <div class="border-t border-gray-300 pt-2 mb-3">
                <div class="flex justify-between text-sm mb-1">
                    <span class="text-gray-600">Subtotal</span>
                    <span id="receipt-subtotal">$57.49</span>
                </div>
                <div class="flex justify-between text-sm mb-1">
                    <span class="text-gray-600">Tax (7%)</span>
                    <span id="receipt-tax">$4.02</span>
                </div>
                <div class="flex justify-between font-bold text-base mt-2">
                    <span>TOTAL</span>
                    <span id="receipt-total">$61.51</span>
                </div>
            </div>
            
            <div class="text-center mt-4">
                <div class="border-t-4 border-double border-gray-300 pt-4">
                    <p class="text-xs text-gray-500">Thank you for dining with us!</p>
                    <p class="text-xs text-gray-500">Please come again</p>
                </div>
            </div>
            
            <div class="flex space-x-3 mt-6">
                <button class="flex-1 bg-purple-600 hover:bg-purple-700 text-white px-4 py-2 rounded-lg font-medium transition"
                        onclick="printReceiptFinal()">
                    Print Receipt
                </button>
                <button class="bg-gray-200 hover:bg-gray-300 text-gray-800 px-4 py-2 rounded-lg font-medium transition"
                        onclick="closeReceiptModal()">
                    Close
                </button>
            </div>
        </div>
    </div>
    
    <script>
        // Current Order Data
        let currentOrder = [];
        let paymentMethod = null;
        
        // Generate floating bubbles
        function createBubbles() {
            const container = document.getElementById('bubbles-container');
            const bubbleCount = window.innerWidth < 768 ? 8 : 15;
            
            for (let i = 0; i < bubbleCount; i++) {
                const bubble = document.createElement('div');
                bubble.classList.add('bubble');
                
                // Random size between 60px and 200px
                const size = Math.random() * 140 + 60;
                bubble.style.width = `${size}px`;
                bubble.style.height = `${size}px`;
                
                // Random position
                bubble.style.left = `${Math.random() * 100}%`;
                bubble.style.top = `${Math.random() * 100}%`;
                
                // Random animation delay
                bubble.style.animationDelay = `${Math.random() * 5}s`;
                
                container.appendChild(bubble);
            }
        }
        
        // Update current time
        function updateTime() {
            const now = new Date();
            const timeStr = now.toLocaleTimeString('en-US', { hour: '2-digit', minute: '2-digit' });
            const dateStr = now.toLocaleDateString('en-US', { weekday: 'short', month: 'short', day: 'numeric' });
            document.getElementById('current-time').textContent = `${timeStr} • ${dateStr}`;
            
            // Update receipt time as well if modal is open
            if (!document.getElementById('receipt-modal').classList.contains('hidden')) {
                const receiptDateStr = now.toLocaleDateString('en-US', { month: 'short', day: 'numeric' });
                const receiptTimeStr = now.toLocaleTimeString('en-US', { hour: '2-digit', minute: '2-digit' });
                document.getElementById('receipt-date').textContent = `${receiptDateStr} ${receiptTimeStr}`;
            }
        }
        
        // Tab switching
        document.getElementById('pos-tab').addEventListener('click', function() {
            this.classList.remove('text-purple-200');
            this.classList.add('tab-active');
            document.getElementById('inventory-tab').classList.add('text-purple-200');
            document.getElementById('inventory-tab').classList.remove('tab-active');
            document.getElementById('pos-content').classList.remove('hidden');
            document.getElementById('inventory-content').classList.add('hidden');
        });
        
        document.getElementById('inventory-tab').addEventListener('click', function() {
            this.classList.remove('text-purple-200');
            this.classList.add('tab-active');
            document.getElementById('pos-tab').classList.add('text-purple-200');
            document.getElementById('pos-tab').classList.remove('tab-active');
            document.getElementById('inventory-content').classList.remove('hidden');
            document.getElementById('pos-content').classList.add('hidden');
        });
        
        // Add item to order
        function addToOrder(id, name, price, element) {
            // Add animation effect to clicked element
            element.classList.add('animate-pulse');
            setTimeout(() => {
                element.classList.remove('animate-pulse');
            }, 300);
            
            // Check if item already exists in order
            const existingItem = currentOrder.find(item => item.id === id);
            
            if (existingItem) {
                existingItem.quantity += 1;
            } else {
                currentOrder.push({
                    id: id,
                    name: name,
                    price: price,
                    quantity: 1
                });
            }
            
            updateOrderDisplay();
        }
        
        // Remove item from order
        function removeFromOrder(id) {
            const itemIndex = currentOrder.findIndex(item => item.id === id);
            
            if (itemIndex !== -1) {
                if (currentOrder[itemIndex].quantity > 1) {
                    currentOrder[itemIndex].quantity -= 1;
                } else {
                    currentOrder.splice(itemIndex, 1);
                }
                
                updateOrderDisplay();
            }
        }
        
        // Update order display
        function updateOrderDisplay() {
            const orderItemsContainer = document.getElementById('order-items');
            const emptyOrderMessage = document.getElementById('empty-order');
            
            if (currentOrder.length === 0) {
                orderItemsContainer.innerHTML = `
                    <div id="empty-order" class="flex flex-col items-center justify-center h-64 text-purple-300">
                        <i class="fas fa-shopping-basket text-5xl mb-4 opacity-30"></i>
                        <p>Your order is empty</p>
                        <p class="text-xs mt-2">Click on menu items to add them</p>
                    </div>
                `;
            } else {
                let orderHTML = '';
                let subtotal = 0;
                
                currentOrder.forEach(item => {
                    const itemTotal = item.price * item.quantity;
                    subtotal += itemTotal;
                    
                    orderHTML += `
                        <div class="flex justify-between items-center bg-purple-900 bg-opacity-30 hover:bg-opacity-40 rounded-lg p-3 mb-2 transition border border-purple-800">
                            <div class="flex-1">
                                <div class="flex justify-between items-start">
                                    <div>
                                        <h3 class="font-medium text-pink-200">${item.name}</h3>
                                        <p class="text-xs text-purple-300">$${item.price.toFixed(2)} each</p>
                                    </div>
                                    <span class="font-bold text-pink-300">$${itemTotal.toFixed(2)}</span>
                                </div>
                                <div class="flex items-center justify-between mt-2">
                                    <span class="text-xs px-2 py-1 rounded-full bg-purple-800">#${item.id}</span>
                                    <div class="flex items-center space-x-2">
                                        <button class="w-6 h-6 rounded-full bg-purple-800 hover:bg-pink-500 flex items-center justify-center transition"
                                                onclick="removeFromOrder('${item.id}')">
                                            <i class="fas fa-minus text-xs"></i>
                                        </button>
                                        <span class="text-sm w-6 text-center">${item.quantity}</span>
                                        <button class="w-6 h-6 rounded-full bg-purple-800 hover:bg-pink-500 flex items-center justify-center transition"
                                                onclick="addToOrder('${item.id}', '${item.name}', ${item.price}, this)">
                                            <i class="fas fa-plus text-xs"></i>
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    `;
                });
                
                orderItemsContainer.innerHTML = orderHTML;
                
                // Calculate totals
                const tax = subtotal * 0.07; // 7% tax
                const total = subtotal + tax;
                
                // Update totals display
                document.getElementById('subtotal').textContent = `$${subtotal.toFixed(2)}`;
                document.getElementById('tax').textContent = `$${tax.toFixed(2)}`;
                document.getElementById('total').textContent = `$${total.toFixed(2)}`;
                
                // Update payment modal amount
                document.getElementById('payment-amount').textContent = `$${total.toFixed(2)}`;
                document.getElementById('card-amount').textContent = `$${total.toFixed(2)}`;
                
                // Update receipt items and totals
                updateReceiptPreview();
            }
        }
        
        // Clear current order
        function clearOrder() {
            if (currentOrder.length === 0) return;
            
            if (confirm('Are you sure you want to clear the current order?')) {
                currentOrder = [];
                updateOrderDisplay();
            }
        }
        
        // Open payment modal
        function processPayment() {
            if (currentOrder.length === 0) {
                alert('Please add items to the order before processing payment.');
                return;
            }
            
            document.getElementById('payment-modal').classList.remove('hidden');
        }
        
        // Close payment modal
        function closePaymentModal() {
            document.getElementById('payment-modal').classList.add('hidden');
            // Reset payment method selection
            document.querySelectorAll('.payment-method').forEach(btn => {
                btn.classList.remove('ring-2', 'ring-pink-400', 'scale-105');
            });
            paymentMethod = null;
            
            // Hide all payment method specifics
            document.getElementById('cash-payment').classList.add('hidden');
            document.getElementById('card-payment').classList.add('hidden');
        }
        
        // Select payment method
        function selectPaymentMethod(method) {
            paymentMethod = method;
            
            // Update UI for selected method
            document.querySelectorAll('.payment-method').forEach(btn => {
                btn.classList.remove('ring-2', 'ring-pink-400', 'scale-105');
            });
            event.currentTarget.classList.add('ring-2', 'ring-pink-400', 'scale-105');
            
            // Show appropriate payment method details
            document.getElementById('cash-payment').classList.add('hidden');
            document.getElementById('card-payment').classList.add('hidden');
            
            if (method === 'cash') {
                document.getElementById('cash-payment').classList.remove('hidden');
            } else if (method === 'card') {
                document.getElementById('card-payment').classList.remove('hidden');
            }
        }
        
        // Complete payment
        function completePayment() {
            if (!paymentMethod) {
                alert('Please select a payment method.');
                return;
            }
            
            // Simulate processing
            document.getElementById('process-payment-btn').innerHTML = '<i class="fas fa-spinner fa-spin mr-2"></i> Processing...';
            
            setTimeout(() => {
                // Show success
                alert(`Payment processed successfully via ${paymentMethod.toUpperCase()}!`);
                document.getElementById('process-payment-btn').innerHTML = 'Complete Payment';
                closePaymentModal();
                
                // Print receipt (but don't clear order yet)
                printReceipt();
            }, 1500);
        }
        
        // Print receipt
        function printReceipt() {
            if (currentOrder.length === 0) {
                alert('No items in the order to print receipt.');
                return;
            }
            
            document.getElementById('receipt-modal').classList.remove('hidden');
        }
        
        // Close receipt modal
        function closeReceiptModal() {
            document.getElementById('receipt-modal').classList.add('hidden');
        }
        
        // Actually print the receipt (final action)
        function printReceiptFinal() {
            // Simulate printing
            alert('Receipt has been printed!');
            
            // Clear the order after printing
            currentOrder = [];
            updateOrderDisplay();
            
            closeReceiptModal();
        }
        
        // Update receipt preview
        function updateReceiptPreview() {
            const receiptItemsContainer = document.getElementById('receipt-items');
            let receiptHTML = '';
            let subtotal = 0;
            
            currentOrder.forEach(item => {
                const itemTotal = item.price * item.quantity;
                subtotal += itemTotal;
                
                receiptHTML += `
                    <div class="receipt-item flex justify-between text-sm mb-1">
                        <div>
                            <span class="font-medium">${item.quantity}x ${item.name}</span>
                        </div>
                        <span class="font-medium">$${itemTotal.toFixed(2)}</span>
                    </div>
                `;
            });
            
            receiptItemsContainer.innerHTML = receiptHTML;
            
            // Calculate totals
            const tax = subtotal * 0.07; // 7% tax
            const total = subtotal + tax;
            
            // Update receipt totals
            document.getElementById('receipt-subtotal').textContent = `$${subtotal.toFixed(2)}`;
            document.getElementById('receipt-tax').textContent = `$${tax.toFixed(2)}`;
            document.getElementById('receipt-total').textContent = `$${total.toFixed(2)}`;
            
            // Update date/time
            updateTime();
        }
        
        // Add discount to order
        function addDiscount(percent) {
            alert(`${percent}% discount applied to order!`);
        }
        
        // Add special request
        function addSpecialRequest() {
            const request = prompt('Enter special request:');
            if (request) {
                alert(`Special request added: "${request}"`);
            }
        }
        
        // Split check
        function splitCheck() {
            if (currentOrder.length === 0) {
                alert('No items in the order to split.');
                return;
            }
            
            alert('Check splitting feature would open here');
        }
        
        // Inventory functions
        function openAddItemModal() {
            document.getElementById('inventory-modal').classList.remove('hidden');
        }
        
        function closeInventoryModal() {
            document.getElementById('inventory-modal').classList.add('hidden');
        }
        
        function saveInventoryItem() {
            alert('New inventory item saved!');
            closeInventoryModal();
        }
        
        function editInventoryItem(id) {
            openAddItemModal();
            alert(`Editing inventory item with ID: ${id}`);
        }
        
        function removeInventoryItem(id) {
            if (confirm('Are you sure you want to remove this item from inventory?')) {
                alert(`Inventory item with ID: ${id} removed`);
            }
        }
        
        // Initialize
        document.addEventListener('DOMContentLoaded', function() {
            createBubbles();
            updateTime();
            setInterval(updateTime, 60000); // Update time every minute
            
            // Add slide-in animation to all elements with the class
            const slideInElements = document.querySelectorAll('.slide-in');
            slideInElements.forEach((element, index) => {
                element.style.animationDelay = `${index * 0.1}s`;
            });
        });
    </script>
</body>
</html>